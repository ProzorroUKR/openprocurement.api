@startuml projects

' ===== Settings =====

skinparam linetype ortho
skinparam nodesep 20
skinparam ranksep 40
skinparam padding 2
skinparam defaultTextAlignment center

' ===== Palette =====

!define COLOR_PROJECT #D6E2E9

' ===== Components =====

rectangle "Проєкти ЦБД" {
    rectangle "Група суміжних проєктів ЦБД" as CDBSatelliteProjectsGroup {
        rectangle "Група проєктів\nAuction" as AuctionProjectGroup {
            rectangle "Проєкт\nAuction" as AuctionProject COLOR_PROJECT
            rectangle "Проєкт\nAuction\nFrontend" as AuctionFrontendProject COLOR_PROJECT
        }
        rectangle "Група проєктів\nBridges" as BridgesProjectGroup {
            rectangle "Проєкт\nCD\nBridge" as BridgeCDProject COLOR_PROJECT
        }
        rectangle "Проєкт\nTasks" as TasksProject COLOR_PROJECT
        rectangle "Проєкт\nChronograph" as ChronographProject COLOR_PROJECT
    }

    rectangle "Проєкт\nCDB\nAPI" as CDBProject COLOR_PROJECT

    rectangle "Залежності ЦБД" as CDBDependencies {
        rectangle "Проєкт\nSign\nAPI" as SignAPIProject COLOR_PROJECT
        rectangle "Проєкт\nRender\nAPI" as RenderAPIProject COLOR_PROJECT
        rectangle "Проєкт\nCatalog\nAPI" as CatalogAPIProject COLOR_PROJECT
        rectangle "Проєкт\nDS\nAPI" as DSAPIProject COLOR_PROJECT
    }

    rectangle "Споживачі ЦБД" as CDBConsumers {
        rectangle "Проєкт\nAudit\nAPI" as AuditAPIProject COLOR_PROJECT
        rectangle "Проєкт\nRisks" as RisksProject COLOR_PROJECT
        rectangle "Проєкт\nBilling" as BillingProject COLOR_PROJECT
    }
}

' ===== Connections =====

AuctionFrontendProject -left-> AuctionProject #Blue

CDBProject <-up- ChronographProject #Green
CDBProject <-up- BridgeCDProject #Purple
CDBProject <-up- TasksProject #Chocolate

CDBProject <-up- AuctionProject #Blue

CDBProject <-down-> RenderAPIProject #OrangeRed
CDBProject -down-> SignAPIProject #Orchid
CDBProject -down-> DSAPIProject #ForestGreen
CDBProject -down-> CatalogAPIProject #RoyalBlue

CDBProject <-down- AuditAPIProject #BlueViolet
CDBProject <-down- RisksProject #DimGray
CDBProject <-down- BillingProject #Red

AuditAPIProject -left-> DSAPIProject #LightSeaGreen

' ===== Layout =====

CDBDependencies -[hidden]right- CDBConsumers
RenderAPIProject -[hidden]right- SignAPIProject
SignAPIProject -[hidden]right- CatalogAPIProject
CatalogAPIProject -[hidden]right- DSAPIProject
DSAPIProject -[hidden]right- AuditAPIProject
AuditAPIProject -[hidden]right- RisksProject
RisksProject -[hidden]right- BillingProject

@enduml