@startuml
start

while (Чи є переможці?) is (так)


  partition Awarding {
        label awarding
        :Замовник обирає "наступного" переможця;
        :Замовник очікує кінція періоду оскарження;
    }

    partition Contracting {
        repeat
        :Замовник тисне "створити контракт";
        :Замовник заповнює свої дані підписанта;
        :Замовник редагує дані підписанта постачальника;
        :Замовник формує документ контракту;

        if (Замовник хоче першим підписати контракт?) then (так)
            :Замовник підписує контракт;
        else (ні)
            :Замовник "передає" контракт постачальнику;
        endif


        if (**Постачальник** "відхиляє" контракт?) then (ні)
              :**Постачальник** підписує контракт;

              if (Замовник підписав контракт?) then (так)
              else (ні)
                    :Замовник підписує контракт;
              endif

              :Контракт "активовано" в системі;
              :закупівля completed;
              stop
        else (так)
        endif

        backward:Контракт cancelled.\nБуде створено інший\nз цим постачальником;
        repeat while (Помилка в даних договора?) is (так) not (ні);

    }

backward:Контракт cancelled.\nБуде створено інший\nз новим постачальником;
endwhile (ні)
:закупівля unsuccessful;
stop




@enduml