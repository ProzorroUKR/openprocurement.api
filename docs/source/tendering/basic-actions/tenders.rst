.. _tenders:

Отримання інформації про закупівлі
==================================

Отримати список всіх закупівель
-------------------------------
.. sourcecode:: http

  GET /tenders HTTP/1.1

.. sourcecode:: http

  HTTP/1.1 200 OK

Сортування
~~~~~~~~~~
Повернені закупівлі просортовані за датою модифікації.

Обмежити кількість Закупівель, що повертаються
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Ви можете контролювати кількість `data` записів потоку даних закупівлі (розмір пакета) за допомогою параметра `limit`. Якщо він не вказаний, то дані будуть повернені пакетами по 100 елементів.

Пакети
~~~~~~

Відповідь містить елемент `next_page` з такими властивостями:

:offset:
    Це параметр, який ви повинні додати до вихідного запиту, щоб отримати наступну сторінку.

:path:
    Це частина шляху URL-адреси з вихідними параметрами та доданим/заміненим `offset` параметром вище.

:uri:
    Повна версія URL-адреси для наступної сторінки.

Якщо запит наступної сторінки повертається без даних (наприклад, пустий масив), тоді немає сенсу викликати сторінки далі.

Синхронізація
~~~~~~~~~~~~~

Часто необхідно мати можливість синхронізувати зміни центральної бази даних з іншою базою даних (ми будемо називати її "локальною"). Стандартне сортування "за датою модифікації" разом із механізмом пакетування дозволяє ефективно здійснювати синхронізацію. Процес синхронізації може виконуватись посторінково, поки не буде жодних нових даних, що повертаються. Тоді синхронізатор призупиниться на деякий час, щоб дозволити центральній базі даних зареєструвати деякі зміни і спробувати завантажити наступну сторінку. `next_page` гарантує, що усі зміни з останнього запиту будуть включені у новий пакет.

Безпечна частота запитів на синхронізацію це раз в 5 хвилин.
 
Прочитати інформацію про окремі закупівлі
-----------------------------------------
.. sourcecode:: http

  GET /tenders/64e93250be76435397e8c992ed4214d1 HTTP/1.1

.. sourcecode:: http

  HTTP/1.1 200 OK

Прочитати список документів закупівлі
-------------------------------------

.. sourcecode:: http

  GET /tenders/64e93250be76435397e8c992ed4214d1/documents HTTP/1.1

.. sourcecode:: http

  HTTP/1.1 200 OK

Приклад запиту:

.. http:example:: ../belowthreshold/http/tutorial/tender-documents-2.http
   :code:

Прочитати документ закупівлі
----------------------------

Документ можна отримати за допомогою запиту url-адреси з відповіді на запит списку документів у `data[*].url`. URL для скачування безпечно надавати кінцевому користувачу.
